<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desafio</title>
</head>

<body>
    <!-- 6 (desafio, opcional). Crie um programa em HTML/JS que simula um jogo de luta da seguinte forma:

OBS: Use operador ternário pelo menos uma vez.

a) Mostre 2 "barras de vida", ambas ocupando 100% da tela. Uma abaixo da outra. A primeira azul e a segunda vermelha. Ambas tendo 20px de altura. Essas "barras" representam a "vida" de cada lutador.

b) Abaixo delas o botão "Porrada aleatória". Ao clicar nele, sorteie qual lutador vai apanhar

c) Após saber qual lutador será golpeado, sorteie o valor da força do golpe. Essa força deve variar entre 0 aberto (ou seja, 0.0001) até 20 aberto (ou seja, 19.999). Essa força deve reduzir a largura em porcentagem absoluta o valor da vida. ex: se foi sorteado 15.50 e a vida está ainda em 100%. 100 - 15.5 = 84.5. Supondo um segundo golpe no mesmo cara, com a força sorteada de 4.5. A força vai para 84.5 - 4.5 = 80.

d) A cada 5 golpes exiba um alert com a frase "Lutador [1 ou 2] está vencendo". Se estiver em empate, não mostre nada. OBS: Use resto da divisão para saber se está a cada 5 golpes

e) Caso, após o golpe, um dos lutadores fique com vida menor que 0, faça ela ficar em 0 exatamente. E, após isso, exiba um alert "Lutador [1 ou 2] venceu" e faça as barras voltarem para 100% cada, assim como o contador de golpes (para que o programa fique como novo outra vez, como se tivessem dado um F5) -->


    <div id="barra_lutador1" style="background-color: blue; height: 20px;"></div><br>
    <div id="barra_lutador2" style="background-color: red; height: 20px; "></div><br>

    <button onclick="porrada()">Porrada aleatória</button>


</body>

</html>

<script>

    var rodadas = 0;
    var vida_lutador1 = 100;
    var vida_lutador2 = 100;

    function porrada() {


        var sorteio = parseInt(Math.random() * 2);
        var dano_porrada = Math.random() * 20;


        sorteio == 1 ? vida_lutador1 -= dano_porrada
            : vida_lutador2 -= dano_porrada;

        barra_lutador1.style.width = `${vida_lutador1}%`
        barra_lutador2.style.width = `${vida_lutador2}%`

        rodadas++;

        if (rodadas % 5 == 0) {

            if (vida_lutador1 > vida_lutador2) {

                alert("Lutador Azul está vencendo");

            } else {

                alert("Lutador Vermelho está vencendo");

            }
        }

        if (vida_lutador1 < 0) {

            vida_lutador1 = 0;

        } else if (vida_lutador2 < 0) {

            vida_lutador2 = 0;

        }

        if (vida_lutador1 == 0) {

            alert("Lutador Vermelho Ganhou");
            reinicio();

        } else if (vida_lutador2 == 0) {

            alert("Lutador Azul Ganhou");
            reinicio();

        }

    }


    function reinicio() {

        vida_lutador1 = 100;
        vida_lutador2 = 100;
        rodadas = 0;
        barra_lutador1.style.width = `${vida_lutador1}%`
        barra_lutador2.style.width = `${vida_lutador2}%`

    }
</script>